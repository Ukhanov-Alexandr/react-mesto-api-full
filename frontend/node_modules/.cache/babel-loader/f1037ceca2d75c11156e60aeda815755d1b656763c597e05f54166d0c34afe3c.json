{"ast":null,"code":"import React,{useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import useFormValidations from\"../hoocks/useFormValidations\";import{addPlaceInitialValues}from'../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlace=_ref.onAddPlace,isRequesting=_ref.isRequesting,handleOverlayClick=_ref.handleOverlayClick;var _useFormValidations=useFormValidations(addPlaceInitialValues),values=_useFormValidations.values,isErrors=_useFormValidations.isErrors,errorMessages=_useFormValidations.errorMessages,handleValueChange=_useFormValidations.handleValueChange,setValues=_useFormValidations.setValues,resetErrors=_useFormValidations.resetErrors;function handleSubmit(e){e.preventDefault();onAddPlace({name:values[\"input-place\"],link:values[\"input-link\"]});}useEffect(function(){if(isOpen){setValues({\"input-place\":\"\",\"input-link\":\"\"});resetErrors();}},[isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",name:\"add\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,handleOverlayClick:handleOverlayClick,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_caption \".concat(isErrors[\"input-place\"]?\"popup__input_type_error\":\"\"),name:\"input-place\",type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",required:true,minLength:\"2\",maxLength:\"30\",value:values[\"input-place\"],onChange:handleValueChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error input-name-error \".concat(isErrors[\"input-place\"]?\"popup__input-error_active\":\"\"),children:errorMessages[\"input-place\"]}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_link \".concat(isErrors[\"input-link\"]?\"popup__input_type_error\":\"\"),name:\"input-link\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,value:values[\"input-link\"],onChange:handleValueChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error input-link-error \".concat(isErrors[\"input-link\"]?\"popup__input-error_active\":\"\"),children:errorMessages[\"input-link\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"popup__btn-save form__submit \".concat(Object.values(isErrors).some(function(item){return item;})?\"form__submit_inactive\":\"\"),type:\"submit\",disabled:Object.values(isErrors).some(function(item){return item;}),children:isRequesting?'Создание..':\"Создать\"})]});}export default/*#__PURE__*/React.memo(AddPlacePopup);","map":{"version":3,"names":["React","useEffect","PopupWithForm","useFormValidations","addPlaceInitialValues","AddPlacePopup","isOpen","onClose","onAddPlace","isRequesting","handleOverlayClick","values","isErrors","errorMessages","handleValueChange","setValues","resetErrors","handleSubmit","e","preventDefault","name","link","Object","some","item","memo"],"sources":["C:/Users/Lenovo/dev/react-mesto-api-full/frontend/src/components/AddPlacePopup.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport useFormValidations from \"../hoocks/useFormValidations\";\r\nimport {addPlaceInitialValues} from '../utils/constants'\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isRequesting, handleOverlayClick }) {\r\n  const {\r\n    values,\r\n    isErrors,\r\n    errorMessages,\r\n    handleValueChange,\r\n    setValues,\r\n    resetErrors,\r\n  } = useFormValidations(addPlaceInitialValues);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: values[\"input-place\"],\r\n      link: values[\"input-link\"],\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setValues({ \"input-place\": \"\", \"input-link\": \"\" });\r\n      resetErrors();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"add\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      handleOverlayClick={handleOverlayClick}\r\n    >\r\n      <input\r\n        className={`popup__input popup__input_type_caption ${\r\n          isErrors[\"input-place\"] ? \"popup__input_type_error\" : \"\"\r\n        }`}\r\n        name=\"input-place\"\r\n        type=\"text\"\r\n        placeholder=\"Название\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        value={values[\"input-place\"]}\r\n        onChange={handleValueChange}\r\n      />\r\n      <span\r\n        className={`form__input-error input-name-error ${\r\n          isErrors[\"input-place\"] ? \"popup__input-error_active\" : \"\"\r\n        }`}\r\n      >\r\n        {errorMessages[\"input-place\"]}\r\n      </span>\r\n      <input\r\n        className={`popup__input popup__input_type_link ${\r\n          isErrors[\"input-link\"] ? \"popup__input_type_error\" : \"\"\r\n        }`}\r\n        name=\"input-link\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        value={values[\"input-link\"]}\r\n        onChange={handleValueChange}\r\n      />\r\n      <span\r\n        className={`form__input-error input-link-error ${\r\n          isErrors[\"input-link\"] ? \"popup__input-error_active\" : \"\"\r\n        }`}\r\n      >\r\n        {errorMessages[\"input-link\"]}\r\n      </span>\r\n      <button\r\n        className={`popup__btn-save form__submit ${\r\n          Object.values(isErrors).some((item) => item)\r\n            ? \"form__submit_inactive\"\r\n            : \"\"\r\n        }`}\r\n        type=\"submit\"\r\n        disabled={Object.values(isErrors).some((item) => item)}\r\n      >\r\n        {isRequesting ? 'Создание..' : \"Создать\"}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default React.memo(AddPlacePopup);\r\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,MAAOC,mBAAkB,KAAM,8BAA8B,CAC7D,OAAQC,qBAAqB,KAAO,oBAAoB,yFAExD,QAASC,cAAa,MAAoE,IAAjEC,OAAM,MAANA,MAAM,CAAEC,OAAO,MAAPA,OAAO,CAAEC,UAAU,MAAVA,UAAU,CAAEC,YAAY,MAAZA,YAAY,CAAEC,kBAAkB,MAAlBA,kBAAkB,CACpF,wBAOIP,kBAAkB,CAACC,qBAAqB,CAAC,CAN3CO,MAAM,qBAANA,MAAM,CACNC,QAAQ,qBAARA,QAAQ,CACRC,aAAa,qBAAbA,aAAa,CACbC,iBAAiB,qBAAjBA,iBAAiB,CACjBC,SAAS,qBAATA,SAAS,CACTC,WAAW,qBAAXA,WAAW,CAGb,QAASC,aAAY,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,EAAE,CAClBX,UAAU,CAAC,CACTY,IAAI,CAAET,MAAM,CAAC,aAAa,CAAC,CAC3BU,IAAI,CAAEV,MAAM,CAAC,YAAY,CAC3B,CAAC,CAAC,CACJ,CAEAV,SAAS,CAAC,UAAM,CACd,GAAIK,MAAM,CAAE,CACVS,SAAS,CAAC,CAAE,aAAa,CAAE,EAAE,CAAE,YAAY,CAAE,EAAG,CAAC,CAAC,CAClDC,WAAW,EAAE,CACf,CACF,CAAC,CAAE,CAACV,MAAM,CAAC,CAAC,CAEZ,mBACE,MAAC,aAAa,EACZ,KAAK,CAAC,+DAAa,CACnB,IAAI,CAAC,KAAK,CACV,MAAM,CAAEA,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,QAAQ,CAAEU,YAAa,CACvB,kBAAkB,CAAEP,kBAAmB,wBAEvC,cACE,SAAS,kDACPE,QAAQ,CAAC,aAAa,CAAC,CAAG,yBAAyB,CAAG,EAAE,CACvD,CACH,IAAI,CAAC,aAAa,CAClB,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,kDAAU,CACtB,QAAQ,MACR,SAAS,CAAC,GAAG,CACb,SAAS,CAAC,IAAI,CACd,KAAK,CAAED,MAAM,CAAC,aAAa,CAAE,CAC7B,QAAQ,CAAEG,iBAAkB,EAC5B,cACF,aACE,SAAS,8CACPF,QAAQ,CAAC,aAAa,CAAC,CAAG,2BAA2B,CAAG,EAAE,CACzD,UAEFC,aAAa,CAAC,aAAa,CAAC,EACxB,cACP,cACE,SAAS,+CACPD,QAAQ,CAAC,YAAY,CAAC,CAAG,yBAAyB,CAAG,EAAE,CACtD,CACH,IAAI,CAAC,YAAY,CACjB,IAAI,CAAC,KAAK,CACV,WAAW,CAAC,oGAAoB,CAChC,QAAQ,MACR,KAAK,CAAED,MAAM,CAAC,YAAY,CAAE,CAC5B,QAAQ,CAAEG,iBAAkB,EAC5B,cACF,aACE,SAAS,8CACPF,QAAQ,CAAC,YAAY,CAAC,CAAG,2BAA2B,CAAG,EAAE,CACxD,UAEFC,aAAa,CAAC,YAAY,CAAC,EACvB,cACP,eACE,SAAS,wCACPS,MAAM,CAACX,MAAM,CAACC,QAAQ,CAAC,CAACW,IAAI,CAAC,SAACC,IAAI,QAAKA,KAAI,GAAC,CACxC,uBAAuB,CACvB,EAAE,CACL,CACH,IAAI,CAAC,QAAQ,CACb,QAAQ,CAAEF,MAAM,CAACX,MAAM,CAACC,QAAQ,CAAC,CAACW,IAAI,CAAC,SAACC,IAAI,QAAKA,KAAI,GAAE,UAEtDf,YAAY,CAAG,YAAY,CAAG,SAAS,EACjC,GACK,CAEpB,CAEA,2BAAeT,KAAK,CAACyB,IAAI,CAACpB,aAAa,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}