{"ast":null,"code":"export var BASE_URL=\"https://auth.nomoreparties.co\";export var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})});};export var authorize=function authorize(email,password){// console.log(email, password);\nreturn fetch(\"\".concat(BASE_URL,\"/signin\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(response){return response.json();}).then(function(data){console.log(data.token);if(data){localStorage.setItem(\"jwt\",data.token);return data;}});};export var getContent=function getContent(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(data){return data;});};","map":{"version":3,"names":["BASE_URL","register","email","password","fetch","method","headers","body","JSON","stringify","authorize","then","response","json","data","console","log","token","localStorage","setItem","getContent","res"],"sources":["C:/Users/Lenovo/dev/react-mesto-api-full/frontend/src/auth.js"],"sourcesContent":["export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email,\r\n    }),\r\n  })\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  // console.log(email, password);\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n        console.log(data.token)\r\n      if (data) {\r\n        localStorage.setItem(\"jwt\", data.token);\r\n        return data;\r\n      }\r\n    })\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n  } \r\n\r\n"],"mappings":"AAAA,MAAO,IAAMA,SAAQ,CAAG,+BAA+B,CAEvD,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,KAAK,CAAEC,QAAQ,CAAK,CAC3C,MAAOC,MAAK,WAAIJ,QAAQ,YAAW,CACjCK,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBN,QAAQ,CAAEA,QAAQ,CAClBD,KAAK,CAAEA,KACT,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,IAAMQ,UAAS,CAAG,QAAZA,UAAS,CAAIR,KAAK,CAAEC,QAAQ,CAAK,CAC5C;AACA,MAAOC,MAAK,WAAIJ,QAAQ,YAAW,CACjCK,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEP,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CACCQ,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,MAAOA,SAAQ,CAACC,IAAI,EAAE,CACxB,CAAC,CAAC,CACDF,IAAI,CAAC,SAACG,IAAI,CAAK,CACZC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,KAAK,CAAC,CACzB,GAAIH,IAAI,CAAE,CACRI,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEL,IAAI,CAACG,KAAK,CAAC,CACvC,MAAOH,KAAI,CACb,CACF,CAAC,CAAC,CACN,CAAC,CAED,MAAO,IAAMM,WAAU,CAAG,QAAbA,WAAU,CAAIH,KAAK,CAAK,CACjC,MAAOb,MAAK,WAAIJ,QAAQ,cAAa,CACnCK,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,kBAAYW,KAAK,CAClC,CACF,CAAC,CAAC,CACDN,IAAI,CAAC,SAAAU,GAAG,QAAIA,IAAG,CAACR,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAG,IAAI,QAAIA,KAAI,GAAC,CACrB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}